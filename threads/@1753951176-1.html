<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üßµhow does the Federal Reserve set interest rates?</title>
    
    <meta property="og:title" content='üßµhow does the Federal Reserve set interest rates?' />
    <meta property="og:type" content='article' />
    <meta property="og:url" content='https://illya.sh/threads/@1753951176-1.html' />
    <meta property="og:image" content='https://illya.sh/staticthoughts/images/@1753951176.png' />
    <meta property="og:description" content='how does the Federal Reserve set interest rates?  some think that they define a single rate - namely the overnight lending rate - i.e. the rate at which the banks lend to each other overnight  bu...' />
    <meta property="og:site_name" content="Illya's Thoughts" />
    <meta name="twitter:card" content='summary_large_image' />
    <meta name="twitter:title" content='üßµhow does the Federal Reserve set interest rates?' />
    <meta name="twitter:description" content='how does the Federal Reserve set interest rates?  some think that they define a single rate - namely the overnight lending rate - i.e. the rate at which the banks lend to each other overnight  bu...' />
    <meta name="twitter:image" content='https://illya.sh/staticthoughts/images/@1753951176.png' />
    <link rel="alternate" type="application/rss+xml" title="Illya Gerasymchuk Threads RSS" href="https://illya.sh/threads/feed.xml"/>
    <link rel="alternate" type="application/rss+xml" title="Illya Gerasymchuk Thoughts RSS" href="https://illya.sh/thoughts/feed.xml"/>
    
    <script type="application/ld+json">
{"@context": "https://schema.org", "@graph": [{"@type": "Person", "name": "Illya Gerasymchuk", "url": "https://illya.sh/"}, {"@type": "Article", "headline": "how does the Federal Reserve set interest rates?", "articleBody": "how does the Federal Reserve set interest rates?\n\nsome think that they define a single rate - namely the overnight lending rate - i.e. the rate at which the banks lend to each other overnight\n\nbut that's not the case ‚ùå\n\nhow can the FED even set market-wide rates? ü§î\n\nafter all - there is no single rate that the whole market unanimously uses\n\ndifferent types of lending have different rates in the market, as it's a (somewhat) open market\n\nthe federal reserve does not set a single interest rate\n\ninstead, the FED sets a target interest rate range (the federal funds target range) alongside 4 main explicit interest rates\n\nthe FED sets a target interest rate range and 4 main explicit interest rates:\n\n1Ô∏è‚É£ Overnight Reverse Repo Rate (ON RRP)\n2Ô∏è‚É£ Interest on Reserve Balances (IORB)\n3Ô∏è‚É£ Discount Rate - also known as Lending Rate\n4Ô∏è‚É£ Standing Repo Facility (SRF)\n\nmore on them later (keep reading üòÅ)\n\ntogether, ON RRP, IORB, discount rate and SRF define an interest rate corridor, composed by:\n\n1Ô∏è‚É£ lower bound (floor) - the lowest possible interest rate\n2Ô∏è‚É£ upper bound (ceiling) - the highest possible interest rate\n\nthe other market rates fluctuate between this floor and ceiling\n\nthe rates define the interest rate corridor in the following manner:\n\n1Ô∏è‚É£ Overnight Reverse Repo Rate - floor\n2Ô∏è‚É£ Interest on Reserve Balances - supplementary floor\n3Ô∏è‚É£ Discount Rate - ceiling\n4Ô∏è‚É£ Standing Repo Facility - supplementary ceiling\n\nin the Federal Open Market Committee Meetings (FOMC), the Federal Reserve sets a target range - currently 4.25%‚Äì4.50%, and then it uses the ON RRP, IORB, discount rate and SRF to steer the average rate in the market\n\nthink of these 4 rates as defining a corridor with an upper and a lower bound - currently 4.25% and 4.50%\n\nthe average market interest rate will sit somewhere in between\n\nnow you should have a clear mental model of how the Federal Reserve sets the interest rates in the market\n\na target range is defined, and then several different interest rates are set explicitly to steer the real interest rate into that target range\n\nso when banks and other financial institutions need to lend capital - they can do it at a rate within the target range\n\nof course, their balance sheet capacity must allow for that - but that's another topic which I already covered in some detail in my other postsüòÅ\n\nnow let's understand each one of the 4 key rates set by the federal reserve to keep the market rates within the target range\n\nnamely, what each one of those rates represents and how together they act as ceiling or floor for the interest rate corridor\n\nthe 4 key interest rates set by the FED are:\n\n1Ô∏è‚É£ Overnight Reverse Repo Rate (ON RRP) \n2Ô∏è‚É£ Interest on Reserve Balances (IORB)\n3Ô∏è‚É£ Discount Rate - also known as Lending Rate\n4Ô∏è‚É£ Standing Repo Facility (SRF)\n\nwe'l cover them in this order in follow-up posts\n\nInterest on Reserve Balances (IORB) is the rate FED pays banks on their excess reserves\n\ncommercial banks have reserve accounts at the FED. regulations define the minimum amounts - any excess earns the IORB interest rate set by the FED\n\nsince banks can always deposit cash into their reserve account account at the FED and earn the IORB rate they have little incentive to lend at rates below IORB\n\neffectively, this sets the floor (lower bound of the corridor) for interest rates for banks\n\nOvernight Reverse Repo Rate (ON RRP) defines the rate at financial institutions can lend money overnight to the FED\n\nin return the FED provides treasury bonds as a collateral\n\nON RRP is accessible to both banks & non-banks (e.g. money market funds)\n\nON RRP further reinforces the the floor for the market-wide interest rates\n\nsince it's accessible to a broader set of financial institutions - not only banks. those now also have little incentive to lend below the ON RRP rate\n\nthe majority of liquidity is actually created in wholesale short-term debt markets\n\nON RRP addresses exactly that sector, thus setting the lower bound of the target interest rate corridor for the broader financial sector\n\nDiscount Rate is the rate at which the FED lends directly to banks through its discount window\n\nthink of it as an emergency lending facility which the banks can use whenever they need funds\n\nsince banks can always get a loan at that rate - it caps the short-term interest rates\n\nthe discount rate is set higher or at the typical market rates to disincentivize its use \n\nit's really meant to serve as an emergency lending source - only when other financing routes are exhausted: regular interbank markets, wholesale markets and SRF among others\n\nit't called discount window for historical reasons\n\ndiscounting means buying treasuries at a slightly lower price - i.e. at a discount\n\nwindow comes from the fact that these were sold at counter/teller windows at the bank\n\nStanding Repo Facility (SRF) allows banks & other financial institutions to do collateral-backed loans from the FED overnight\n\nthe institution provides high quality collateral (e.g. treasury bond) and gets a loan against it - at the set rate\n\nthus, Standing Repo Facility (SRF) further reinforces the upper part of the target interest rate corridor\n\nin other words, it strengthens the cap on short-term interest rates\n\nSRF has been introduced in 2021, due to occasional spikes of short-term funding rates outside of the corridor\n\nthis is because banks avoid using the discount rate - as that is often seen as a sign of financial distress by the broader market\n\nso how does the FED currently targets an interest rate range between 4.25%-4.50%?\n\nlet's consolidate everything with an example using current, real-world data\n\ncurrent rates set by FED:\n\n1Ô∏è‚É£ ON RRP - 4.25% (floor) - firms won't lend below \n2Ô∏è‚É£ IORB  - 4.40% (supplementary floor) - banks won't lend below \n3Ô∏è‚É£ Discount Rate - 4.50% (ceiling) - banks won't borrow above \n4Ô∏è‚É£ SRF - 4.50% (supplementary ceiling) - banks & firms won't borrow above\n\ntogether, ON RRP, IORB, Discount Rate and SRF create a corridor for rates, which stay within the target 4.25%-4.50%\n\nüëâ by \"firms\" i mean select non-bank financial institutions - think dealers, market makers & other wholesale debt institutions\n\nand this is how the Federal Reserve steers the federal funds rate/interest rates in the market within the target range üè¶‚ú®\n\nfollow the quoted posts to read the full thread/article", "author": {"@type": "Person", "name": "Illya Gerasymchuk", "url": "https://illya.sh/"}, "publisher": {"@type": "Person", "name": "Illya Gerasymchuk", "url": "https://illya.sh/threads/"}, "url": "https://illya.sh/threads/@1753951176-1.html", "mainEntityOfPage": "https://illya.sh/threads/@1753951176-1.html", "datePublished": "2025-07-31T08:39:36+00:00", "dateModified": "2025-07-31T10:06:50+00:00", "keywords": "crypto, finance, law, AI, software development, economics, blockchain, markets", "image": "https://illya.sh/staticthoughts/images/@1753951176.png"}]}
</script>
    
    <style>
        :root {
            --bg-color: #f4f4f4;
            --container-bg: #ffffff;
            --box-bg: #fff;
            --text-color: #333;
            --secondary-text-color: #555;
            --light-text-color: #666;
            --link-color: #007bff;
            --link-hover-color: #0056b3;
            --border-color: #ddd;
            --soft-border-color: #eee;
            --dashed-border-color: #aaa;
            --box-shadow-color: rgba(0,0,0,0.08);
            --lightbox-bg: rgba(0, 0, 0, 0.9);
            --lightbox-close-bg: rgba(255, 255, 255, 0.8);
            --lightbox-close-hover-bg: rgba(255, 255, 255, 1);
            --lightbox-close-color: #000;
            --disabled-text-color: #aaa;
            --disabled-bg-color: #f9f9f9;
            --hover-bg-color: #eee;
        }

        .dark-mode {
            --bg-color: #1a1a1a;
            --container-bg: #2b2b2b;
            --box-bg: #2b2b2b;
            --text-color: #e0e0e0;
            --secondary-text-color: #b0b0b0;
            --light-text-color: #999;
            --link-color: #58a6ff;
            --link-hover-color: #80bfff;
            --border-color: #444;
            --soft-border-color: #333;
            --dashed-border-color: #666;
            --box-shadow-color: rgba(255,255,255,0.08);
            --lightbox-bg: rgba(0, 0, 0, 0.95);
            --lightbox-close-bg: rgba(50, 50, 50, 0.8);
            --lightbox-close-hover-bg: rgba(70, 70, 70, 1);
            --lightbox-close-color: #eee;
            --disabled-text-color: #777;
            --disabled-bg-color: #3a3a3a;
            --hover-bg-color: #383838;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --bg-color: #1a1a1a;
                --container-bg: #2b2b2b;
                --box-bg: #2b2b2b;
                --text-color: #e0e0e0;
                --secondary-text-color: #b0b0b0;
                --light-text-color: #999;
                --link-color: #58a6ff;
                --link-hover-color: #80bfff;
                --border-color: #444;
                --soft-border-color: #333;
                --dashed-border-color: #666;
                --box-shadow-color: rgba(255,255,255,0.08);
                --lightbox-bg: rgba(0, 0, 0, 0.95);
                --lightbox-close-bg: rgba(50, 50, 50, 0.8);
                --lightbox-close-hover-bg: rgba(70, 70, 70, 1);
                --lightbox-close-color: #eee;
                --disabled-text-color: #777;
                --disabled-bg-color: #3a3a3a;
                --hover-bg-color: #383838;
            }
            .light-mode {
                --bg-color: #f4f4f4;
                --container-bg: #ffffff;
                --box-bg: #fff;
                --text-color: #333;
                --secondary-text-color: #555;
                --light-text-color: #666;
                --link-color: #007bff;
                --link-hover-color: #0056b3;
                --border-color: #ddd;
                --soft-border-color: #eee;
                --dashed-border-color: #aaa;
                --box-shadow-color: rgba(0,0,0,0.08);
                --lightbox-bg: rgba(0, 0, 0, 0.9);
                --lightbox-close-bg: rgba(255, 255, 255, 0.8);
                --lightbox-close-hover-bg: rgba(255, 255, 255, 1);
                --lightbox-close-color: #000;
                --disabled-text-color: #aaa;
                --disabled-bg-color: #f9f9f9;
                --hover-bg-color: #eee;
            }
        }

        /* --- Webfont: Literata (variable, WOFF2) for reading surfaces --- */
        @font-face {
            font-family: 'Literata';
            src: url('/staticthoughts/data/fonts/literata/Literata-VF-latin.woff2') format('woff2-variations');
            font-style: normal;
            font-weight: 200 900;
            font-display: swap;
        }
        @font-face {
            font-family: 'Literata';
            src: url('/staticthoughts/data/fonts/literata/Literata-Italic-VF-latin.woff2') format('woff2-variations');
            font-style: italic;
            font-weight: 200 900;
            font-display: swap;
        }

        body {
            font-family: "Courier New", Courier, monospace;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        a {
            color: var(--link-color);
            text-decoration: none;
            transition: color 0.2s ease;
        }
        a:hover {
            color: var(--link-hover-color);
            text-decoration: underline;
        }
        a:visited {
            color: var(--link-color);
        }

        .container {
            background-color: var(--container-bg);
            padding: 25px;
            border: 1px solid var(--border-color);
            max-width: 750px;
            width: 100%;
            box-shadow: 0 1px 4px var(--box-shadow-color);
            transition: background-color 0.3s ease, border-color 0.3s ease;
        }

        /* Profile Box Styling */
        .profile-box {
            border: 2px dashed var(--dashed-border-color); /* USE VAR */
            padding: 15px; 
            margin-bottom: 30px; 
            background-color: var(--box-bg); /* USE VAR */
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: background-color 0.3s ease, border-color 0.3s ease; /* Smooth transition */
        }
        .profile-content {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 0; /* Remove vertical spacing */
            width: 100%;
        }
        .profile-img {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 15px;
            border: 1px solid var(--soft-border-color); /* USE VAR */
            flex-shrink: 0;
            cursor: pointer; /* Add cursor pointer for toggle */
            transition: border-color 0.3s ease; /* Smooth transition */
        }
        .profile-details {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        .profile-name {
            font-weight: bold;
            font-size: 1.2em;
            margin-bottom: 2px;
            color: var(--text-color); /* Ensure uses variable */
        }
        .profile-title {
            color: var(--secondary-text-color); /* USE VAR */
            font-size: 0.95em;
        }
        .profile-links {
            font-size: 0.9em;
            color: var(--secondary-text-color); /* USE VAR */
            display: flex;
            flex-wrap: wrap;
            justify-content: center; 
            align-items: center;
            gap: 8px 16px; 
            padding: 0; 
            margin-top: 12px; 
            line-height: 1.4;
        }
        .profile-links a {
            text-decoration: none;
            color: var(--link-color); /* USE VAR */
            transition: color 0.2s ease;
            white-space: nowrap;
            padding: 2px 4px;
            border-radius: 3px;
            display: inline-block;
        }
        .profile-links a:hover {
            color: var(--link-hover-color); /* USE VAR */
            background-color: var(--hover-bg-color);
        }

        /* Thread-specific styles */
        .thread-title {
            font-size: 1.5em;
            font-weight: bold;
            color: var(--text-color);
            margin-bottom: 12px;
            line-height: 1.3;
            border-bottom: 1px solid var(--soft-border-color);
            padding-bottom: 8px;
        }
        .thread-title {
            font-family: 'Literata', Georgia, serif;
            font-weight: 600;
            font-optical-sizing: auto;
        }

        .thread-separator {
            display: flex;
            align-items: center;
            margin: 8px 0;
            opacity: 0.6;
        }

        .thread-separator-dot {
            width: 4px;
            height: 4px;
            background-color: var(--light-text-color);
            border-radius: 50%;
            margin-right: 8px;
        }

        .thread-separator-timestamp {
            font-size: 0.75em;
            color: var(--light-text-color);
            text-decoration: none;
            padding: 2px 4px;
            border-radius: 3px;
            transition: color 0.2s ease, background-color 0.2s ease;
        }

        .thread-separator-timestamp:hover {
            color: var(--text-color);
            background-color: var(--hover-bg-color);
            text-decoration: none;
        }

        .thread-thought {
            margin-bottom: 0;
            padding: 0;
            border: none;
            background: transparent;
        }

        .thread-thought .thought-content p {
            margin-bottom: 6px;
            white-space: pre-wrap;
            color: var(--text-color);
            font-family: 'Literata', Georgia, serif;
            font-weight: 270;
            font-optical-sizing: auto;
            line-height: 1.2;
        }

        .thread-thought .thought-image {
            margin: 12px 0;
        }

        .thread-thought .thought-image .lightbox-trigger {
            display: block;
            max-width: 550px;
            width: 100%;
            margin-left: auto;
            margin-right: auto;
            cursor: pointer;
            overflow: hidden;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            position: relative;
            transition: border-color 0.3s ease;
        }

        .thread-thought img.thread-thought-img {
            display: block;
            width: 100%;
            height: auto;
            transition: opacity 0.2s ease-in-out;
        }

        .thread-thought .lightbox-trigger:hover img.thread-thought-img {
            opacity: 0.9;
        }

        /* Thread actions styling */
        .thread-actions {
            padding-top: 15px;
            margin-top: 20px;
            border-top: 1px solid var(--soft-border-color);
        }
        
        .action-separator {
            height: 1px;
            background: repeating-linear-gradient(
                to right,
                var(--light-text-color) 0px,
                var(--light-text-color) 2px,
                transparent 2px,
                transparent 6px
            );
            margin-bottom: 8px;
            opacity: 0.6;
        }

        .action-buttons {
            display: flex;
            justify-content: flex-end;
            align-items: center;
        }

        .comment-button, .share-button {
            background: transparent;
            border: none;
            font-size: 1.2em;
            cursor: pointer;
            padding: 0;
            border-radius: 4px;
            color: var(--secondary-text-color);
            transition: color 0.2s ease, transform 0.2s ease;
            font-family: inherit;
            outline: none;
            margin-right: 6pt;
            -webkit-tap-highlight-color: transparent;
            text-decoration: none;
            text-shadow: 0 0 0.5px rgba(0,0,0,0.5), 0 0 4px rgba(0,0,0,0.35);
        }

        .comment-button:hover, .share-button:hover {
            color: var(--text-color);
            transform: scale(1.1);
        }

        .comment-button:active, .share-button:active {
            transform: scale(0.95);
            color: var(--text-color);
        }

        /* Lightbox styles */
        .lightbox-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--lightbox-bg);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            padding: 40px;
            box-sizing: border-box;
            transition: background-color 0.3s ease;
        }
        .lightbox-overlay.visible {
            display: flex;
        }
        .lightbox-content {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            max-width: 100%;
            max-height: 100%;
        }
        .lightbox-content img {
            display: block;
            max-width: 100%;
            max-height: 100%;
            width: auto;
            height: auto;
            object-fit: contain;
            border: none;
            box-shadow: 0 5px 30px rgba(0,0,0,0.5);
        }
        .lightbox-close {
            position: absolute;
            top: -10px;
            right: -10px;
            background: var(--lightbox-close-bg);
            color: var(--lightbox-close-color);
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            font-size: 24px;
            font-weight: normal;
            line-height: 28px;
            text-align: center;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            transition: background-color 0.2s ease, color 0.2s ease;
        }
        .lightbox-close:hover {
            background-color: var(--lightbox-close-hover-bg);
        }

        /* Navigation styling */
        .thread-navigation {
            margin-top: 20px;
            text-align: center;
            padding-bottom: 20px;
        }

        .nav-button {
            padding: 8px 15px;
            text-decoration: none;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            color: var(--link-color);
            background-color: transparent;
            transition: background-color 0.2s ease, color 0.2s ease;
            display: inline-block;
            margin: 0 5px;
        }

        .nav-button:hover {
            background-color: var(--link-color);
            color: var(--container-bg);
            text-decoration: none;
        }

        /* Mobile responsive */
        @media (max-width: 600px) {
            body {
                padding: 10px;
            }
            .container {
                padding: 15px;
                max-width: 100%;
            }
             /* Adjusted Profile Box for Mobile */
             .profile-box {
                 padding: 12px; /* Further reduced padding */
                 margin-bottom: 25px; /* Further reduced margin */
             }
            /* Adjusted Profile Content for Mobile */
            .profile-content {
                 align-items: center;
                 justify-content: center;
                 margin-bottom: 0; /* No spacing between profile content and links */
            }
            .profile-img {
                width: 50px;
                height: 50px;
                margin-right: 12px;
            }
             .profile-name {
                 font-size: 1.1em;
             }
             .profile-title {
                 font-size: 0.9em;
             }
             /* Adjusted Profile Links for Mobile */
            .profile-links {
                font-size: 0.82em;
                margin-top: 10px;
                gap: 6px 12px; /* Optimized gap for mobile */
                justify-content: center; /* Ensure centering on mobile too */
                line-height: 1.3;
            }
            .profile-links a {
                padding: 3px 6px; /* Slightly more padding for easier mobile tapping */
                border-radius: 4px;
            }
            .thread-title {
                font-size: 1.3em;
                margin-bottom: 10px;
            }
            .thread-separator {
                margin: 6px 0;
            }
            .thread-separator-timestamp {
                font-size: 0.7em;
            }
            .thread-thought .thought-image .lightbox-trigger {
                max-width: 100%;
                border-radius: 6px;
            }
            .lightbox-overlay {
                padding: 10px;
            }
            .lightbox-close {
                top: 5px;
                right: 5px;
                width: 28px;
                height: 28px;
                font-size: 20px;
                line-height: 26px;
            }
            .thread-navigation {
                display: flex !important;
                flex-direction: column !important;
                gap: 10px !important;
            }
            .nav-button {
                width: 100% !important;
                margin: 0 !important;
                text-align: center !important;
                box-sizing: border-box !important;
            }
        }

        /* Share feedback toast */
        .share-feedback {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--text-color);
            color: var(--bg-color);
            padding: 12px 20px;
            border-radius: 6px;
            font-size: 0.9em;
            z-index: 1001;
            animation: slideUp 0.3s ease-out;
            max-width: 90%;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateX(-50%) translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
        }

        /* Extra small screens (iPhone SE, etc.) */
        @media (max-width: 375px) {
            .profile-links {
                font-size: 0.78em;
                gap: 4px 8px; /* Tighter gap for very small screens */
                margin-top: 8px;
            }
            .profile-links a {
                padding: 2px 4px; /* Compact padding for very small screens */
                border-radius: 3px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="profile-box">
    <div class="profile-content">
        <img src="https://illya.sh/staticthoughts/data/profile.png" alt="Profile Picture" class="profile-img">
        <div class="profile-details">
            <div class="profile-name">Illya Gerasymchuk</div>
            <div class="profile-title">Entrepreneur / Engineer</div>
        </div>
    </div>
    <div class="profile-links">
        <a href="https://illya.sh" target="_blank">üè† Homepage</a><a href="https://illya.sh/thoughts/">üí≠ Thoughts</a><a href="mailto:hello@illya.sh" target="_blank">‚úâÔ∏è Email</a><a href="https://twitter.com/illyaGera" target="_blank">üê¶ Twitter/X</a><a href="https://github.com/iluxonchik" target="_blank">üíª GitHub</a><a href="https://illya.sh/threads/feed.xml" target="_blank">üì° RSS</a>
    </div>
</div>

        <div class="thread-container">
    <h1 class="thread-title">how does the Federal Reserve set interest rates?</h1>
    <div class="thread-thought">
    <div class="thought-content">
        <p>how does the Federal Reserve set interest rates?

some think that they define a single rate - namely the overnight lending rate - i.e. the rate at which the banks lend to each other overnight

but that's not the case ‚ùå</p>
        <div class="thought-image"><a href="https://illya.sh/staticthoughts/data/images/a198dbb5-c131-58b4-a125-63556713d5d4.jpg" class="lightbox-trigger"><img loading="lazy" src="https://illya.sh/staticthoughts/data/images/a198dbb5-c131-58b4-a125-63556713d5d4.jpg" alt="Thread Image" class="thread-thought-img"></a></div>
    </div>
</div>
<div class="thread-separator">
    <div class="thread-separator-dot"></div>
    <a href="https://illya.sh/thoughts/@1753951176.html" class="thread-separator-timestamp">2025-07-31 09:39</a>
</div>
<div class="thread-thought">
    <div class="thought-content">
        <p>how can the FED even set market-wide rates? ü§î

after all - there is no single rate that the whole market unanimously uses

different types of lending have different rates in the market, as it's a (somewhat) open market</p>
        <div class="thought-image"><a href="https://illya.sh/staticthoughts/data/images/9bfeb50f-6cef-5638-b2be-209f90bed83c.jpg" class="lightbox-trigger"><img loading="lazy" src="https://illya.sh/staticthoughts/data/images/9bfeb50f-6cef-5638-b2be-209f90bed83c.jpg" alt="Thread Image" class="thread-thought-img"></a></div>
    </div>
</div>
<div class="thread-separator">
    <div class="thread-separator-dot"></div>
    <a href="https://illya.sh/thoughts/@1753951259.html" class="thread-separator-timestamp">2025-07-31 09:40</a>
</div>
<div class="thread-thought">
    <div class="thought-content">
        <p>the federal reserve does not set a single interest rate

instead, the FED sets a target interest rate range (the federal funds target range) alongside 4 main explicit interest rates</p>
        <div class="thought-image"><a href="https://illya.sh/staticthoughts/data/images/54c86708-63eb-5093-b5e2-5abe8652879a.jpg" class="lightbox-trigger"><img loading="lazy" src="https://illya.sh/staticthoughts/data/images/54c86708-63eb-5093-b5e2-5abe8652879a.jpg" alt="Thread Image" class="thread-thought-img"></a></div>
    </div>
</div>
<div class="thread-separator">
    <div class="thread-separator-dot"></div>
    <a href="https://illya.sh/thoughts/@1753951725.html" class="thread-separator-timestamp">2025-07-31 09:48</a>
</div>
<div class="thread-thought">
    <div class="thought-content">
        <p>the FED sets a target interest rate range and 4 main explicit interest rates:

1Ô∏è‚É£ Overnight Reverse Repo Rate (ON RRP)
2Ô∏è‚É£ Interest on Reserve Balances (IORB)
3Ô∏è‚É£ Discount Rate - also known as Lending Rate
4Ô∏è‚É£ Standing Repo Facility (SRF)

more on them later (keep reading üòÅ)</p>
        <div class="thought-image"><a href="https://illya.sh/staticthoughts/data/images/60238e27-ac03-501b-886d-fec4d872ebd9.jpg" class="lightbox-trigger"><img loading="lazy" src="https://illya.sh/staticthoughts/data/images/60238e27-ac03-501b-886d-fec4d872ebd9.jpg" alt="Thread Image" class="thread-thought-img"></a></div>
    </div>
</div>
<div class="thread-separator">
    <div class="thread-separator-dot"></div>
    <a href="https://illya.sh/thoughts/@1753951804.html" class="thread-separator-timestamp">2025-07-31 09:50</a>
</div>
<div class="thread-thought">
    <div class="thought-content">
        <p>together, ON RRP, IORB, discount rate and SRF define an interest rate corridor, composed by:

1Ô∏è‚É£ lower bound (floor) - the lowest possible interest rate
2Ô∏è‚É£ upper bound (ceiling) - the highest possible interest rate

the other market rates fluctuate between this floor and ceiling</p>
        <div class="thought-image"><a href="https://illya.sh/staticthoughts/data/images/a2be736f-513b-50e1-8059-caa908740370.jpg" class="lightbox-trigger"><img loading="lazy" src="https://illya.sh/staticthoughts/data/images/a2be736f-513b-50e1-8059-caa908740370.jpg" alt="Thread Image" class="thread-thought-img"></a></div>
    </div>
</div>
<div class="thread-separator">
    <div class="thread-separator-dot"></div>
    <a href="https://illya.sh/thoughts/@1753951899.html" class="thread-separator-timestamp">2025-07-31 09:51</a>
</div>
<div class="thread-thought">
    <div class="thought-content">
        <p>the rates define the interest rate corridor in the following manner:

1Ô∏è‚É£ Overnight Reverse Repo Rate - floor
2Ô∏è‚É£ Interest on Reserve Balances - supplementary floor
3Ô∏è‚É£ Discount Rate - ceiling
4Ô∏è‚É£ Standing Repo Facility - supplementary ceiling</p>
        <div class="thought-image"><a href="https://illya.sh/staticthoughts/data/images/eea83656-d7d1-57db-83c3-ff936a6bff3b.jpg" class="lightbox-trigger"><img loading="lazy" src="https://illya.sh/staticthoughts/data/images/eea83656-d7d1-57db-83c3-ff936a6bff3b.jpg" alt="Thread Image" class="thread-thought-img"></a></div>
    </div>
</div>
<div class="thread-separator">
    <div class="thread-separator-dot"></div>
    <a href="https://illya.sh/thoughts/@1753952012.html" class="thread-separator-timestamp">2025-07-31 09:53</a>
</div>
<div class="thread-thought">
    <div class="thought-content">
        <p>in the Federal Open Market Committee Meetings (FOMC), the Federal Reserve sets a target range - currently 4.25%‚Äì4.50%, and then it uses the ON RRP, IORB, discount rate and SRF to steer the average rate in the market</p>
        <div class="thought-image"><a href="https://illya.sh/staticthoughts/data/images/4ec992b6-f733-5f0d-b15a-80cb49c5f7b1.jpg" class="lightbox-trigger"><img loading="lazy" src="https://illya.sh/staticthoughts/data/images/4ec992b6-f733-5f0d-b15a-80cb49c5f7b1.jpg" alt="Thread Image" class="thread-thought-img"></a></div>
    </div>
</div>
<div class="thread-separator">
    <div class="thread-separator-dot"></div>
    <a href="https://illya.sh/thoughts/@1753952120.html" class="thread-separator-timestamp">2025-07-31 09:55</a>
</div>
<div class="thread-thought">
    <div class="thought-content">
        <p>think of these 4 rates as defining a corridor with an upper and a lower bound - currently 4.25% and 4.50%

the average market interest rate will sit somewhere in between</p>
        <div class="thought-image"><a href="https://illya.sh/staticthoughts/data/images/c816ace3-d9ae-5cf1-a607-00a2335be566.jpg" class="lightbox-trigger"><img loading="lazy" src="https://illya.sh/staticthoughts/data/images/c816ace3-d9ae-5cf1-a607-00a2335be566.jpg" alt="Thread Image" class="thread-thought-img"></a></div>
    </div>
</div>
<div class="thread-separator">
    <div class="thread-separator-dot"></div>
    <a href="https://illya.sh/thoughts/@1753952191.html" class="thread-separator-timestamp">2025-07-31 09:56</a>
</div>
<div class="thread-thought">
    <div class="thought-content">
        <p>now you should have a clear mental model of how the Federal Reserve sets the interest rates in the market

a target range is defined, and then several different interest rates are set explicitly to steer the real interest rate into that target range</p>
        <div class="thought-image"><a href="https://illya.sh/staticthoughts/data/images/3d0cb9b5-5501-5374-b5ee-71106c4aac8f.jpg" class="lightbox-trigger"><img loading="lazy" src="https://illya.sh/staticthoughts/data/images/3d0cb9b5-5501-5374-b5ee-71106c4aac8f.jpg" alt="Thread Image" class="thread-thought-img"></a></div>
    </div>
</div>
<div class="thread-separator">
    <div class="thread-separator-dot"></div>
    <a href="https://illya.sh/thoughts/@1753952284.html" class="thread-separator-timestamp">2025-07-31 09:58</a>
</div>
<div class="thread-thought">
    <div class="thought-content">
        <p>so when banks and other financial institutions need to lend capital - they can do it at a rate within the target range

of course, their balance sheet capacity must allow for that - but that's another topic which I already covered in some detail in my other postsüòÅ</p>
        <div class="thought-image"><a href="https://illya.sh/staticthoughts/data/images/e3d565c5-bcea-5cf4-964d-36d430380bcf.jpg" class="lightbox-trigger"><img loading="lazy" src="https://illya.sh/staticthoughts/data/images/e3d565c5-bcea-5cf4-964d-36d430380bcf.jpg" alt="Thread Image" class="thread-thought-img"></a></div>
    </div>
</div>
<div class="thread-separator">
    <div class="thread-separator-dot"></div>
    <a href="https://illya.sh/thoughts/@1753952383.html" class="thread-separator-timestamp">2025-07-31 09:59</a>
</div>
<div class="thread-thought">
    <div class="thought-content">
        <p>now let's understand each one of the 4 key rates set by the federal reserve to keep the market rates within the target range

namely, what each one of those rates represents and how together they act as ceiling or floor for the interest rate corridor</p>
        <div class="thought-image"><a href="https://illya.sh/staticthoughts/data/images/ee448fd0-7ce1-5036-a5b0-ff6b67df3fc4.jpg" class="lightbox-trigger"><img loading="lazy" src="https://illya.sh/staticthoughts/data/images/ee448fd0-7ce1-5036-a5b0-ff6b67df3fc4.jpg" alt="Thread Image" class="thread-thought-img"></a></div>
    </div>
</div>
<div class="thread-separator">
    <div class="thread-separator-dot"></div>
    <a href="https://illya.sh/thoughts/@1753952713.html" class="thread-separator-timestamp">2025-07-31 10:05</a>
</div>
<div class="thread-thought">
    <div class="thought-content">
        <p>the 4 key interest rates set by the FED are:

1Ô∏è‚É£ Overnight Reverse Repo Rate (ON RRP) 
2Ô∏è‚É£ Interest on Reserve Balances (IORB)
3Ô∏è‚É£ Discount Rate - also known as Lending Rate
4Ô∏è‚É£ Standing Repo Facility (SRF)

we'l cover them in this order in follow-up posts</p>
        <div class="thought-image"><a href="https://illya.sh/staticthoughts/data/images/ecdb4a72-ed3d-54d8-a0c8-9cf1521af15f.jpg" class="lightbox-trigger"><img loading="lazy" src="https://illya.sh/staticthoughts/data/images/ecdb4a72-ed3d-54d8-a0c8-9cf1521af15f.jpg" alt="Thread Image" class="thread-thought-img"></a></div>
    </div>
</div>
<div class="thread-separator">
    <div class="thread-separator-dot"></div>
    <a href="https://illya.sh/thoughts/@1753952914.html" class="thread-separator-timestamp">2025-07-31 10:08</a>
</div>
<div class="thread-thought">
    <div class="thought-content">
        <p>Interest on Reserve Balances (IORB) is the rate FED pays banks on their excess reserves

commercial banks have reserve accounts at the FED. regulations define the minimum amounts - any excess earns the IORB interest rate set by the FED</p>
        <div class="thought-image"><a href="https://illya.sh/staticthoughts/data/images/92f800be-5e1c-57d9-aed2-a2b6bad0851b.jpg" class="lightbox-trigger"><img loading="lazy" src="https://illya.sh/staticthoughts/data/images/92f800be-5e1c-57d9-aed2-a2b6bad0851b.jpg" alt="Thread Image" class="thread-thought-img"></a></div>
    </div>
</div>
<div class="thread-separator">
    <div class="thread-separator-dot"></div>
    <a href="https://illya.sh/thoughts/@1753952954.html" class="thread-separator-timestamp">2025-07-31 10:09</a>
</div>
<div class="thread-thought">
    <div class="thought-content">
        <p>since banks can always deposit cash into their reserve account account at the FED and earn the IORB rate they have little incentive to lend at rates below IORB

effectively, this sets the floor (lower bound of the corridor) for interest rates for banks</p>
        <div class="thought-image"><a href="https://illya.sh/staticthoughts/data/images/77bd34c3-1a88-5c88-bb06-25a6316038f4.jpg" class="lightbox-trigger"><img loading="lazy" src="https://illya.sh/staticthoughts/data/images/77bd34c3-1a88-5c88-bb06-25a6316038f4.jpg" alt="Thread Image" class="thread-thought-img"></a></div>
    </div>
</div>
<div class="thread-separator">
    <div class="thread-separator-dot"></div>
    <a href="https://illya.sh/thoughts/@1753953017.html" class="thread-separator-timestamp">2025-07-31 10:10</a>
</div>
<div class="thread-thought">
    <div class="thought-content">
        <p>Overnight Reverse Repo Rate (ON RRP) defines the rate at financial institutions can lend money overnight to the FED

in return the FED provides treasury bonds as a collateral

ON RRP is accessible to both banks & non-banks (e.g. money market funds)</p>
        <div class="thought-image"><a href="https://illya.sh/staticthoughts/data/images/5adbee22-d503-5b88-a401-2cc1e2610700.jpg" class="lightbox-trigger"><img loading="lazy" src="https://illya.sh/staticthoughts/data/images/5adbee22-d503-5b88-a401-2cc1e2610700.jpg" alt="Thread Image" class="thread-thought-img"></a></div>
    </div>
</div>
<div class="thread-separator">
    <div class="thread-separator-dot"></div>
    <a href="https://illya.sh/thoughts/@1753953090.html" class="thread-separator-timestamp">2025-07-31 10:11</a>
</div>
<div class="thread-thought">
    <div class="thought-content">
        <p>ON RRP further reinforces the the floor for the market-wide interest rates

since it's accessible to a broader set of financial institutions - not only banks. those now also have little incentive to lend below the ON RRP rate</p>
        <div class="thought-image"><a href="https://illya.sh/staticthoughts/data/images/dfa13852-2dda-5b14-9cd1-da6076f274d2.jpg" class="lightbox-trigger"><img loading="lazy" src="https://illya.sh/staticthoughts/data/images/dfa13852-2dda-5b14-9cd1-da6076f274d2.jpg" alt="Thread Image" class="thread-thought-img"></a></div>
    </div>
</div>
<div class="thread-separator">
    <div class="thread-separator-dot"></div>
    <a href="https://illya.sh/thoughts/@1753953969.html" class="thread-separator-timestamp">2025-07-31 10:26</a>
</div>
<div class="thread-thought">
    <div class="thought-content">
        <p>the majority of liquidity is actually created in wholesale short-term debt markets

ON RRP addresses exactly that sector, thus setting the lower bound of the target interest rate corridor for the broader financial sector</p>
        <div class="thought-image"><a href="https://illya.sh/staticthoughts/data/images/f356a04d-b986-5aed-b884-4c15f3376cd9.jpg" class="lightbox-trigger"><img loading="lazy" src="https://illya.sh/staticthoughts/data/images/f356a04d-b986-5aed-b884-4c15f3376cd9.jpg" alt="Thread Image" class="thread-thought-img"></a></div>
    </div>
</div>
<div class="thread-separator">
    <div class="thread-separator-dot"></div>
    <a href="https://illya.sh/thoughts/@1753954033.html" class="thread-separator-timestamp">2025-07-31 10:27</a>
</div>
<div class="thread-thought">
    <div class="thought-content">
        <p>Discount Rate is the rate at which the FED lends directly to banks through its discount window

think of it as an emergency lending facility which the banks can use whenever they need funds

since banks can always get a loan at that rate - it caps the short-term interest rates</p>
        <div class="thought-image"><a href="https://illya.sh/staticthoughts/data/images/5afbf79b-eaa4-58ce-9e35-147ce71cfc0f.jpg" class="lightbox-trigger"><img loading="lazy" src="https://illya.sh/staticthoughts/data/images/5afbf79b-eaa4-58ce-9e35-147ce71cfc0f.jpg" alt="Thread Image" class="thread-thought-img"></a></div>
    </div>
</div>
<div class="thread-separator">
    <div class="thread-separator-dot"></div>
    <a href="https://illya.sh/thoughts/@1753954124.html" class="thread-separator-timestamp">2025-07-31 10:28</a>
</div>
<div class="thread-thought">
    <div class="thought-content">
        <p>the discount rate is set higher or at the typical market rates to disincentivize its use 

it's really meant to serve as an emergency lending source - only when other financing routes are exhausted: regular interbank markets, wholesale markets and SRF among others</p>
        <div class="thought-image"><a href="https://illya.sh/staticthoughts/data/images/360e9949-9011-5763-b848-fb2883e776e7.jpg" class="lightbox-trigger"><img loading="lazy" src="https://illya.sh/staticthoughts/data/images/360e9949-9011-5763-b848-fb2883e776e7.jpg" alt="Thread Image" class="thread-thought-img"></a></div>
    </div>
</div>
<div class="thread-separator">
    <div class="thread-separator-dot"></div>
    <a href="https://illya.sh/thoughts/@1753954215.html" class="thread-separator-timestamp">2025-07-31 10:30</a>
</div>
<div class="thread-thought">
    <div class="thought-content">
        <p>it't called discount window for historical reasons

discounting means buying treasuries at a slightly lower price - i.e. at a discount

window comes from the fact that these were sold at counter/teller windows at the bank</p>
        <div class="thought-image"><a href="https://illya.sh/staticthoughts/data/images/e69115f6-bd55-5130-8592-892a695189cf.jpg" class="lightbox-trigger"><img loading="lazy" src="https://illya.sh/staticthoughts/data/images/e69115f6-bd55-5130-8592-892a695189cf.jpg" alt="Thread Image" class="thread-thought-img"></a></div>
    </div>
</div>
<div class="thread-separator">
    <div class="thread-separator-dot"></div>
    <a href="https://illya.sh/thoughts/@1753954252.html" class="thread-separator-timestamp">2025-07-31 10:30</a>
</div>
<div class="thread-thought">
    <div class="thought-content">
        <p>Standing Repo Facility (SRF) allows banks & other financial institutions to do collateral-backed loans from the FED overnight

the institution provides high quality collateral (e.g. treasury bond) and gets a loan against it - at the set rate</p>
        <div class="thought-image"><a href="https://illya.sh/staticthoughts/data/images/30b6e6e4-e6b7-523b-a06c-460eb83c27e8.jpg" class="lightbox-trigger"><img loading="lazy" src="https://illya.sh/staticthoughts/data/images/30b6e6e4-e6b7-523b-a06c-460eb83c27e8.jpg" alt="Thread Image" class="thread-thought-img"></a></div>
    </div>
</div>
<div class="thread-separator">
    <div class="thread-separator-dot"></div>
    <a href="https://illya.sh/thoughts/@1753954328.html" class="thread-separator-timestamp">2025-07-31 10:32</a>
</div>
<div class="thread-thought">
    <div class="thought-content">
        <p>thus, Standing Repo Facility (SRF) further reinforces the upper part of the target interest rate corridor

in other words, it strengthens the cap on short-term interest rates</p>
        <div class="thought-image"><a href="https://illya.sh/staticthoughts/data/images/f2c5e4a4-347a-5059-9a6f-22375c8584e5.jpg" class="lightbox-trigger"><img loading="lazy" src="https://illya.sh/staticthoughts/data/images/f2c5e4a4-347a-5059-9a6f-22375c8584e5.jpg" alt="Thread Image" class="thread-thought-img"></a></div>
    </div>
</div>
<div class="thread-separator">
    <div class="thread-separator-dot"></div>
    <a href="https://illya.sh/thoughts/@1753954461.html" class="thread-separator-timestamp">2025-07-31 10:34</a>
</div>
<div class="thread-thought">
    <div class="thought-content">
        <p>SRF has been introduced in 2021, due to occasional spikes of short-term funding rates outside of the corridor

this is because banks avoid using the discount rate - as that is often seen as a sign of financial distress by the broader market</p>
        <div class="thought-image"><a href="https://illya.sh/staticthoughts/data/images/b68d4754-ba0a-5665-bf4d-8f5f6b66d9db.jpg" class="lightbox-trigger"><img loading="lazy" src="https://illya.sh/staticthoughts/data/images/b68d4754-ba0a-5665-bf4d-8f5f6b66d9db.jpg" alt="Thread Image" class="thread-thought-img"></a></div>
    </div>
</div>
<div class="thread-separator">
    <div class="thread-separator-dot"></div>
    <a href="https://illya.sh/thoughts/@1753954560.html" class="thread-separator-timestamp">2025-07-31 10:36</a>
</div>
<div class="thread-thought">
    <div class="thought-content">
        <p>so how does the FED currently targets an interest rate range between 4.25%-4.50%?

let's consolidate everything with an example using current, real-world data</p>
        <div class="thought-image"><a href="https://illya.sh/staticthoughts/data/images/c9cf9175-52c1-5035-9966-e5e9c728447f.jpg" class="lightbox-trigger"><img loading="lazy" src="https://illya.sh/staticthoughts/data/images/c9cf9175-52c1-5035-9966-e5e9c728447f.jpg" alt="Thread Image" class="thread-thought-img"></a></div>
    </div>
</div>
<div class="thread-separator">
    <div class="thread-separator-dot"></div>
    <a href="https://illya.sh/thoughts/@1753954727.html" class="thread-separator-timestamp">2025-07-31 10:38</a>
</div>
<div class="thread-thought">
    <div class="thought-content">
        <p>current rates set by FED:

1Ô∏è‚É£ ON RRP - 4.25% (floor) - firms won't lend below 
2Ô∏è‚É£ IORB  - 4.40% (supplementary floor) - banks won't lend below 
3Ô∏è‚É£ Discount Rate - 4.50% (ceiling) - banks won't borrow above 
4Ô∏è‚É£ SRF - 4.50% (supplementary ceiling) - banks & firms won't borrow above</p>
        <div class="thought-image"><a href="https://illya.sh/staticthoughts/data/images/4d3c070d-1150-588e-98f0-07f6b3b42492.jpg" class="lightbox-trigger"><img loading="lazy" src="https://illya.sh/staticthoughts/data/images/4d3c070d-1150-588e-98f0-07f6b3b42492.jpg" alt="Thread Image" class="thread-thought-img"></a></div>
    </div>
</div>
<div class="thread-separator">
    <div class="thread-separator-dot"></div>
    <a href="https://illya.sh/thoughts/@1753954839.html" class="thread-separator-timestamp">2025-07-31 10:40</a>
</div>
<div class="thread-thought">
    <div class="thought-content">
        <p>together, ON RRP, IORB, Discount Rate and SRF create a corridor for rates, which stay within the target 4.25%-4.50%

üëâ by "firms" i mean select non-bank financial institutions - think dealers, market makers & other wholesale debt institutions</p>
        <div class="thought-image"><a href="https://illya.sh/staticthoughts/data/images/1d3a0f6a-d662-50cd-a7e6-ff8f7a2a259a.jpg" class="lightbox-trigger"><img loading="lazy" src="https://illya.sh/staticthoughts/data/images/1d3a0f6a-d662-50cd-a7e6-ff8f7a2a259a.jpg" alt="Thread Image" class="thread-thought-img"></a></div>
    </div>
</div>
<div class="thread-separator">
    <div class="thread-separator-dot"></div>
    <a href="https://illya.sh/thoughts/@1753955028.html" class="thread-separator-timestamp">2025-07-31 10:43</a>
</div>
<div class="thread-thought">
    <div class="thought-content">
        <p>and this is how the Federal Reserve steers the federal funds rate/interest rates in the market within the target range üè¶‚ú®

follow the quoted posts to read the full thread/article</p>
        <div class="thought-image"><a href="https://illya.sh/staticthoughts/data/images/f04e4391-6f99-5114-91b2-ba7a719454a8.jpg" class="lightbox-trigger"><img loading="lazy" src="https://illya.sh/staticthoughts/data/images/f04e4391-6f99-5114-91b2-ba7a719454a8.jpg" alt="Thread Image" class="thread-thought-img"></a></div>
    </div>
</div>
<div class="thread-separator">
    <div class="thread-separator-dot"></div>
    <a href="https://illya.sh/thoughts/@1753956410.html" class="thread-separator-timestamp">2025-07-31 11:06</a>
</div>
    
        <div class="thread-actions">
            <div class="action-separator"></div>
            <div class="action-buttons">
                <a href="https://illya.sh/thoughts/comment.html?id=1753951176" class="comment-button" aria-label="Comment on this thread">üí¨</a>
                <button class="share-button" data-share-url="https://illya.sh/threads/@1753951176-1.html" data-share-title="how does the Federal Reserve set interest rates?" data-share-text="" aria-label="Share this thread">üì§</button>
            </div>
        </div>
</div>

        <nav class="thread-navigation" style="margin-top: 20px; text-align: center; padding-bottom: 20px;">
            <a id="back-button" href="javascript:history.back()" class="nav-button" style="display: none; margin-right: 15px; padding: 8px 15px; text-decoration: none; border: 1px solid; border-radius: 5px;">‚¨ÖÔ∏è Back</a>
            <a href="https://illya.sh/threads/" class="nav-button" style="padding: 8px 15px; text-decoration: none; border: 1px solid; border-radius: 5px;">üßµ Latest Threads</a>
            <a href="https://illya.sh/thoughts/" class="nav-button" style="margin-right: 15px; padding: 8px 15px; text-decoration: none; border: 1px solid; border-radius: 5px;">üè† Latest Thoughts</a>
        </nav>
        <script>
            (function() {
                if (window.history && window.history.length > 1 && document.referrer && document.referrer !== window.location.href) {
                    var backButton = document.getElementById('back-button');
                    if (backButton) { backButton.style.display = 'inline-block'; }
                }
            })();
        </script>
    </div>

    <!-- Lightbox Structure -->
    <div id="lightbox" class="lightbox-overlay">
        <div class="lightbox-content">
            <button class="lightbox-close" aria-label="Close">&times;</button>
            <img src="" alt="Lightbox image">
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = lightbox.querySelector('img');
            const lightboxClose = lightbox.querySelector('.lightbox-close');
            const triggers = document.querySelectorAll('.lightbox-trigger');

            triggers.forEach(trigger => {
                trigger.addEventListener('click', (e) => {
                    e.preventDefault();
                    const imgSrc = trigger.getAttribute('href');
                    lightboxImg.setAttribute('src', imgSrc);
                    lightbox.classList.add('visible');
                    document.body.style.overflow = 'hidden';
                });
            });

            function closeLightbox() {
                lightbox.classList.remove('visible');
                lightboxImg.setAttribute('src', '');
                document.body.style.overflow = '';
            }

            lightboxClose.addEventListener('click', closeLightbox);
            lightbox.addEventListener('click', (e) => {
                if (e.target === lightbox) {
                    closeLightbox();
                }
            });
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && lightbox.classList.contains('visible')) {
                    closeLightbox();
                }
            });

            // Share button functionality
            const shareButtons = document.querySelectorAll('.share-button');
            const DOUBLE_THRESHOLD = 500;

            shareButtons.forEach(btn => {
                let clickTimer = null;
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();

                    const shareData = {
                        title: btn.dataset.shareTitle,
                        text: btn.dataset.shareText,
                        url: btn.dataset.shareUrl
                    };

                    if (clickTimer) {
                        clearTimeout(clickTimer);
                        clickTimer = null;
                        performCopy(shareData.url);
                        return;
                    }

                    clickTimer = setTimeout(() => {
                        clickTimer = null;
                        showNativeShare(shareData);
                    }, DOUBLE_THRESHOLD);
                });
            });

            async function showNativeShare(shareData) {
                if (navigator.share) {
                    try {
                        await navigator.share(shareData);
                        return;
                    } catch (err) {
                        if (!err || (err.name !== 'AbortError' && err.name !== 'NotAllowedError')) {
                            performCopy(shareData.url);
                        }
                        return;
                    }
                }
                performCopy(shareData.url);
            }

            function performCopy(url) {
                if (navigator.clipboard && navigator.clipboard.writeText) {
                    navigator.clipboard.writeText(url).then(() => {
                        toast('Link copied to clipboard! üìã');
                    }).catch(() => {
                        toast('Copy this link: ' + url);
                    });
                } else {
                    toast('Copy this link: ' + url);
                }
            }

            function toast(msg) {
                const old = document.querySelector('.share-feedback');
                if (old) old.remove();
                const el = document.createElement('div');
                el.className = 'share-feedback';
                el.textContent = msg;
                document.body.appendChild(el);
                setTimeout(() => el.remove(), 3000);
            }
        });
    </script>
</body>
</html>